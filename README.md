# Aaram  
PCB design for retro fitting old switch boards with new tech to control it remotely using ESP32-C6-Mini-N1.

## Features
1. Controls 4 loads using
  - 1 Triac 
      > Note: Triac circuit has added protection for the back EMF generated by inductive load like fan.
  - 3 Relays for controlling other resistive loads
      > Try not use heavy inductive load using relays. During testing, the MCU was bugging out when load was switched.
2. Input from switches.
      - To reduce rewiring the whole switch board, directly connect the rocker switch output terminal to the input provided on the board.
      - The FULL BRIDGE RECTIFIER rectifies the AC which is sent to the quad channel opto with a 100k resistor in series for current limiting. The output from the opto is read by the ESP.
3. Fuse holder in series with the AC input for overload protection. 
4. Varistor on all AC output terminals for protection from transient spikes.
5. Added support for IR receiver and transmitter.
6. Uses DHT22 for temperature and humidity sensor.
7. ESPHome Yaml config - [Link](https://github.com/xicor22/Aaram/blob/main/ESPHome_Template.yaml)
## Schematic
![Schematic](/asset/Schematic.png)

## Images
|View|Image|
|----|-----|
|Both Layers| ![Both Layers](/asset/b.png)|
|1<sup>st</sup> Layer| ![Layer 1](/asset/l1.png)|
|2<sup>nd</sup> Layer| ![Layer 2](/asset/l2.png)|
|3D Top view| ![3D Top View](/asset/3D_T.png)|
|3D Bottom view| ![3D Bottom View](/asset/3D_B.png)|

## To-Do
1. ~~Design 3D printables case for the PCB.~~ **Done**
2. Update ESPHOME yaml config.
